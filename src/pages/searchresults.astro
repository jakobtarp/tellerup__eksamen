---
import "../styles/tokens.css";
import "../styles/base.css";
import "../styles/global.css";
import MainHeader from "../components/MainHeader.astro";
import ProductCardSection from "../components/ProductCardSection.astro";
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
---

<MainLayout title="Søgeresultater" />
<MainHeader title="Søgeresultater" beskrivelse="'Karen Kare'" />
<!-- <button class="">Filtrer</button> -->

<div class="px-2 lg:px-8">
  <div class="grid lg:block">
    <div class="">
      <div class="flex justify-end mt-16 mb-5 cursor-pointer sort">
        <p class="underline text-end">Sorter fra A-Z</p>
        <img class="h-6 ml-2 my-auto" src="imgs/downarrow.png" alt="" />
      </div>

      <div class="flex justify-end search_resul">
        <p class="text-end"><span class="font-bold">(4)</span> søgeresultater fundet</p>
      </div>
    </div>
  </div>
  <div id="products" class="products">
    <ProductCardSection />
  </div>

  <div>
    <p class="page text-center sider mt-10 lg:ml-64">Viser 1 ud af 4 sider</p>
  </div>

  <div class="nextbefore flex justify-around lg:ml-64 next mt-5">
    <p class="underline cursor-pointer">Forrige side</p>
    <p class="underline cursor-pointer">Næste side</p>
  </div>

  <style>
    .nextbefore {
      font-size: var(--font-size-base);
      color: var(--orange);
    }

    .page {
      font-size: var(--font-size-base);
    }

    .sort {
      font-size: var(--font-size-sm);
    }
    .search_resul {
      font-size: var(--font-size-xs);
    }
    .mobile-down {
    }
    .dropdown-container {
      background-color: var(--white);
      display: grid;
      grid-template-columns: 1fr;
      position: absolute;
      top: 200px;
      left: 10px;
      width: 250px; /* Juster bredden efter dit behov */
      max-width: 100%;
    }

    input {
      border-bottom: 1.2px solid;
    }

    input:focus {
      background-color: var(--lightblue);
      outline: none;
    }

    .dropdown {
      background-color: var(--white);
      display: none;
      /* padding: 12px 16px; */
    }

    .dropdown-button {
      position: relative;
      padding: 8px 0px;
      text-align: left;
      margin-top: 10px;
      cursor: pointer;
      outline: none;
      border-bottom: 1.3px solid;
      font-size: var(--font-size-base);
      font-weight: var(--fontBold);
      width: 80%;
      display: flex;
      align-items: center;
    }

    .dropdown-button::after {
      content: "";
      position: absolute;
      top: 50%;
      right: 5px;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      background-image: url("imgs/downarrow.png");
      background-size: cover;
      background-position: right center;
    }

    .dropdown-content input[type="checkbox"] {
      transform: scale(1.5);
      margin-right: 8px;
      margin-left: 8px;
    }

    .dropdown-button.open::after {
      content: "";
      position: absolute;
      top: 20%;
      right: 5px;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      background-image: url("imgs/downarrow.png");
      background-size: cover;
      background-position: right center;
      transform: translateY(1px) rotate(-180deg);
    }

    @media (max-width: 640px) {
      .dropdown-container {
        background-color: var(--white);
        display: grid;
        grid-template-columns: 1fr;
        position: absolute;
        top: 230px;
        left: 0px;
        height: 40%;
        width: 250px;
      }
      .blurBg {
        filter: blur(4px);
      }

      .dropdown-button {
        background-color: var(--white);
        position: relative;
        padding: 8px;
        text-align: left;
        cursor: pointer;
        outline: none;
        border-bottom: 1.3px solid;
        font-size: var(--font-size-base);
        font-weight: var(--fontBold);
        width: 100%;
        display: flex;
        align-items: center;
      }
    }
  </style>

  <script>
    const mobileDropDown = document.querySelector(".mobile-down");
    const showMe = document.querySelector(".showMe");
    const products = document.querySelector(".products");
    const toggle = document.querySelector("#toggle");

    mobileDropDown.addEventListener("click", openDropdown);

    function openDropdown() {
      showMe.classList.toggle("hidden");
    }

    mobileDropDown.addEventListener("click", () => {
      products.classList.toggle("blurBg");
    });

    console.log(mobileDropDown);

    var dropdownButtons = document.querySelectorAll(".dropdown-button");

    for (var i = 0; i < dropdownButtons.length; i++) {
      dropdownButtons[i].addEventListener("click", function () {
        var dropdown = this.nextElementSibling;
        var isOpen = this.classList.toggle("open");
        dropdown.style.display = isOpen ? "block" : "none";
      });
    }
    var dropdownSearches = document.querySelectorAll(".dropdown-search");

    // for (var i = 0; i < dropdownSearches.length; i++) {
    //   dropdownSearches[i].addEventListener("input", function () {
    //     var dropdown = this.parentNode.nextElementSibling;
    //     var checkboxes = dropdown.querySelectorAll('.dropdown-content input[type="checkbox"]');
    //     var searchTerm = this.value.toLowerCase();

    //     for (var j = 0; j < checkboxes.length; j++) {
    //       var label = checkboxes[j].parentNode;
    //       var optionText = label.textContent.toLowerCase();

    //       if (optionText.indexOf(searchTerm) > -1) {
    //         label.style.display = "block";
    //       } else {
    //         label.style.display = "none";
    //       }
    //     }
    //   });
    // }
  </script>
</div>
